# 如何进行消息队列技术选型

## 消息队列的使用场景

### 1. **解耦**
   现场画图演示：A发消息到B,C,D；如果需新增给E，或C不要A数据，同时A需要盯防所有接收者是否挂、是否需重发等




### 2. **异步**
**应用场景**：一个系统或模块，调用多个系统或模块，互相调用关系复杂，维护麻烦；而如果实际这种调用并不需要直接同步调用；如果通过MQ进行异步化解耦也可以，则可以考虑项目是否使用MQ。

**具体样例**：A接收请求，需要本地写库，还需在B,C,D写库；如果同步方式，则调用总时长 A（3ms）+B（300ms）+C（400ms）+D（250ms）=953ms，界面响应长，客户体验不好。

>一般互联网要求每个请求在200ms内完成。
  
### 3. **削峰**
   0-11点系统平静，每秒并发数100+；11-1点，并发暴增1w+；但系统最大并发能力1000+
   
![对比图](https://note.youdao.com/yws/api/personal/file/AE09954DD6DF41C58B0891FBBAC4EF0B?method=download&shareKey=6cdd6716be8e15293ed6f8fe9c87df18)
